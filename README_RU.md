# Zoho Invoice Automation

[üá∫üá∏ English](README.md) | [üá∑üá∫ –†—É—Å—Å–∫–∞—è –≤–µ—Ä—Å–∏—è](README_RU.md)

–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å—á–µ—Ç–æ–≤ –∏ –ø—Ä–æ—Ñ–æ—Ä–º —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π –≤ Zoho Books —á–µ—Ä–µ–∑ OCR –∏ AI –∞–Ω–∞–ª–∏–∑.

## üöÄ –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (—Å—á–µ—Ç–∞, –ø—Ä–æ—Ñ–æ—Ä–º—ã, –Ω–∞–∫–ª–∞–¥–Ω—ã–µ) —Å –ø–æ–º–æ—â—å—é:
- **OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è** —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Google Vision API)
- **AI –∞–Ω–∞–ª–∏–∑–∞** –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (OpenAI GPT-4)
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** —Å Zoho Books API
- **Telegram –±–æ—Ç–∞** –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üìÑ –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏–∑ PDF —Ñ–∞–π–ª–æ–≤
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (–ø–æ—Å—Ç–∞–≤—â–∏–∫, —Å—É–º–º–∞, –¥–∞—Ç–∞, VAT)
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–∏–ø–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞ (—Å—á–µ—Ç, –ø—Ä–æ—Ñ–æ—Ä–º–∞, –≤–æ–∑–≤—Ä–∞—Ç)
- –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ —Ç–∏–ø—É –ø–æ–∫—É–ø–∫–∏ (–∞–≤—Ç–æ–º–æ–±–∏–ª–∏ vs —É—Å–ª—É–≥–∏)

### üè¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏—è–º–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç–∏** –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **Fallback –ª–æ–≥–∏–∫–∞**: –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç VAT –Ω–æ–º–µ—Ä—É, —Ä–µ–∑–µ—Ä–≤ - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- **–ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ** –Ω–∞–∑–≤–∞–Ω–∏–π –∫–æ–º–ø–∞–Ω–∏–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤** –∫ VAT –Ω–æ–º–µ—Ä–∞–º

### üöó –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω–æ–π –æ—Ç—Ä–∞—Å–ª–∏
- –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ VIN –Ω–æ–º–µ—Ä–æ–≤
- –†–∞–∑–ª–∏—á–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π –æ—Ç —É—Å–ª—É–≥
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –¥–µ—Ç–∞–ª–µ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—è (–º–æ–¥–µ–ª—å, —Ü–≤–µ—Ç, –ø—Ä–æ–±–µ–≥)
- –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–ª–Ω–æ–π —Å—Ç–æ–∏–º–æ—Å—Ç–∏ vs –¥–æ–ø–ª–∞—Ç—ã

### üåç –ú—É–ª—å—Ç–∏—Å—Ç—Ä–∞–Ω–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ê–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä–∞–Ω—ã –ø–æ –∫–æ—Å–≤–µ–Ω–Ω—ã–º –ø—Ä–∏–∑–Ω–∞–∫–∞–º
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ VAT
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö (–ø–æ–ª—å—Å–∫–∏–π, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π, —ç—Å—Ç–æ–Ω—Å–∫–∏–π, —à–≤–µ–¥—Å–∫–∏–π)

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Python 3.11+**
- **OpenAI GPT-4** - –∞–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- **Google Vision API** - OCR —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ
- **Zoho Books API** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —É—á–µ—Ç–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- **Telegram Bot API** - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **FastAPI** - –≤–µ–±-—Å–µ—Ä–≤–µ—Ä
- **PDFPlumber/PyMuPDF** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

```bash
# –û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
openai>=1.30.1
google-cloud-vision>=3.10.2
python-telegram-bot>=20.7
fastapi>=0.115.14
pdfplumber>=0.11.7
pymupdf>=1.26.1
```

## üîß –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:**
```bash
git clone https://github.com/Limon1976/zoho-invoice-automation.git
cd zoho-invoice-automation
```

2. **–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:**
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
# –∏–ª–∏
venv\Scripts\activate  # Windows
```

3. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
```bash
pip install -r requirements.txt
```

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**
```bash
# –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env
OPENAI_API_KEY=your_openai_api_key
OPENAI_ASSISTANT_ID=your_assistant_id
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account.json
TELEGRAM_BOT_TOKEN=your_telegram_token
ZOHO_CLIENT_ID=your_zoho_client_id
ZOHO_CLIENT_SECRET=your_zoho_secret
```

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
```python
# config.py
OUR_COMPANIES = [
    {
        "name": "Your Company Name",
        "vat": "PL1234567890",
        "country": "Poland"
    }
]
```

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
```bash
python run_all.py
```

### –ó–∞–ø—É—Å–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

**Telegram –±–æ—Ç:**
```bash
python telegram_bot/bot_main.py
```

**MCP –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä:**
```bash
python mcp_connector/mcp_main.py
```

**–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø–∞–ø–∫–∏:**
```bash
python watcher/monitor.py
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–¥–Ω–æ–≥–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞
```python
from functions.agent_invoice_parser import analyze_proforma_via_agent

result = analyze_proforma_via_agent('path/to/document.pdf')
print(result)
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ functions/              # –û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ agent_invoice_parser.py  # AI –∞–Ω–∞–ª–∏–∑ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ assistant_logic.py       # –õ–æ–≥–∏–∫–∞ OpenAI Assistant
‚îÇ   ‚îî‚îÄ‚îÄ zoho_api.py             # –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Zoho
‚îú‚îÄ‚îÄ telegram_bot/          # Telegram –±–æ—Ç
‚îú‚îÄ‚îÄ mcp_connector/          # MCP –∫–æ–Ω–Ω–µ–∫—Ç–æ—Ä
‚îú‚îÄ‚îÄ watcher/               # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ inbox/                 # –í—Ö–æ–¥—è—â–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ invoices/              # –û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã
‚îî‚îÄ‚îÄ keys/                  # –ö–ª—é—á–∏ API (–Ω–µ –≤ git)
```

## üîç –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—á–µ—Ç–∞
```python
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ PDF
result = analyze_proforma_via_agent('invoice.pdf')

# –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
{
    "document_type": "invoice",
    "supplier": {
        "name": "Company Name",
        "vat": "PL1234567890",
        "address": "Address"
    },
    "our_company": {
        "name": "Our Company",
        "vat": "PL0987654321"
    },
    "total_amount": 1000.0,
    "currency": "PLN",
    "date": "2024-01-15",
    "account": "Office Expenses"
}
```

### Fallback –ª–æ–≥–∏–∫–∞ –¥–ª—è VAT
- **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç**: VAT –Ω–æ–º–µ—Ä —Ä–µ—à–∞–µ—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–Ω–æ—Å—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞
- **–†–µ–∑–µ—Ä–≤**: –ï—Å–ª–∏ VAT –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–∏
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π VAT = –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞

## üéØ –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–º–ø–∞–Ω–∏–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –Ω–∞–∑–≤–∞–Ω–∏–π —Å –≤–∞—Ä–∏–∞—Ü–∏—è–º–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–æ–∫—Ä–∞—â–µ–Ω–∏–π –∏ –ø–æ–ª–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤ —Å—Ç—Ä–∞–Ω –∫ VAT –Ω–æ–º–µ—Ä–∞–º

### –°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ–º–æ–±–∏–ª–µ–π
- –†–∞–∑–ª–∏—á–µ–Ω–∏–µ –ø–æ–∫—É–ø–∫–∏ vs —É—Å–ª—É–≥ –ø–æ –∞–≤—Ç–æ–º–æ–±–∏–ª—è–º
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ VIN –∏ –¥–µ—Ç–∞–ª–µ–π –∞–≤—Ç–æ–º–æ–±–∏–ª—è
- –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ü–µ–Ω–æ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- –í—Å–µ API –∫–ª—é—á–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –§–∞–π–ª—ã —Å –∫–ª—é—á–∞–º–∏ –∏—Å–∫–ª—é—á–µ–Ω—ã –∏–∑ git
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## ü§ù –†–∞–∑–≤–∏—Ç–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- [ ] API –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

### –£—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ
1. –§–æ—Ä–∫–Ω–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç
2. –°–æ–∑–¥–∞–π—Ç–µ feature branch
3. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
4. –°–æ–∑–¥–∞–π—Ç–µ Pull Request

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç [MIT License](LICENSE).

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–î–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ [Issues](https://github.com/Limon1976/zoho-invoice-automation/issues) –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏.

---

**–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–æ—Ü–µ—Å—Å–æ–≤** 